/* ---------- Reset & base ---------- */
* { box-sizing: border-box; margin:0; padding:0; font-family: "Segoe UI", Roboto, Arial, sans-serif; }
html,body { height:100%; }
body { background: linear-gradient(180deg,#eef2ff,#f8fafc); display:flex; align-items:center; justify-content:center; padding:20px; }

/* ---------- Container ---------- */
.container {
  width:420px; max-width:95%;
  background: #fff; border-radius:12px; box-shadow:0 8px 30px rgba(15,23,42,0.12);
  overflow:hidden; display:flex; flex-direction:column;
}

/* ---------- Header ---------- */
.header { display:flex; align-items:center; justify-content:space-between; padding:12px 14px; border-bottom:1px solid #eee; background: linear-gradient(90deg,#ffffff,#f7fbff); }
.title { font-weight:700; font-size:18px; color:#0f172a; }
.header-actions button { margin-left:8px; background:transparent; border:none; cursor:pointer; font-size:18px; }

/* ---------- Chatbox ---------- */
#chatbox { flex:1; padding:14px; overflow-y:auto; background:#f8fafc; display:flex; flex-direction:column; gap:10px; scroll-behavior:smooth; }

/* Message */
.message { display:flex; align-items:flex-end; gap:8px; max-width:85%; }
.message .avatar { width:36px; height:36px; border-radius:50%; object-fit:cover; box-shadow:0 2px 8px rgba(2,6,23,0.08); }
.message .bubble { padding:10px 14px; border-radius:14px; font-size:14px; line-height:1.3; word-wrap:break-word; box-shadow:0 2px 6px rgba(2,6,23,0.04); }
.message.user { align-self:flex-end; flex-direction:row-reverse; }
.message.user .bubble { background:#0b63ff; color:#fff; border-bottom-right-radius:4px; }
.message.bot { align-self:flex-start; }
.message.bot .bubble { background:#eef2ff; color:#071133; border-bottom-left-radius:4px; }

/* Typing indicator */
.typing { display:inline-flex; gap:4px; align-items:center; }
.typing span { width:6px; height:6px; background:#9aa7ff; border-radius:50%; animation:blink 1s infinite; }
.typing span:nth-child(2){ animation-delay:0.15s } .typing span:nth-child(3){ animation-delay:0.3s }
@keyframes blink { 0%,100% {opacity:0.2} 50% {opacity:1} }

/* ---------- Debug panel ---------- */
.debug-panel { display:none; font-family:monospace; font-size:12px; max-height:140px; overflow:auto; padding:8px; background:#0b1220; color:#9fffcf; }

/* ---------- Controls ---------- */
.controls { padding:10px; border-top:1px solid #eee; background:#fff; display:flex; flex-direction:column; gap:8px; }
.top-controls { display:flex; gap:8px; }
#voiceSelect { flex:1; padding:6px 8px; border-radius:6px; border:1px solid #d1d5db; background:#fff; }
#debugBtn { width:44px; border-radius:6px; background:#f3f4f6; border:1px solid #e6e7eb; cursor:pointer }

.input-row { display:flex; gap:8px; }
#userInput { flex:1; padding:10px 12px; border-radius:8px; border:1px solid #d1d5db; outline:none; }
#sendBtn,#micBtn { width:44px; border-radius:8px; border:none; background:#0b63ff; color:#fff; cursor:pointer; }
#micBtn.listening { background:#10b981; animation:pulse 1s infinite; }

.bottom-controls { display:flex; gap:8px; flex-wrap:wrap; }
.bottom-controls button { padding:6px 10px; border-radius:8px; border:1px solid #e6e7eb; background:#fff; cursor:pointer; }

/* ---------- Dark Mode ---------- */
body.dark { background: linear-gradient(180deg,#07080a,#07112a); color:#e6eef8; }
body.dark .container { background:#0b1220; box-shadow: 0 6px 30px rgba(0,0,0,0.6); }
body.dark #chatbox { background:#07112a; }
body.dark .header { background:transparent; border-bottom:1px solid rgba(255,255,255,0.04); }
body.dark .message.bot .bubble { background:#0f1724; color:#e6eef8; box-shadow:none; }
body.dark .message.user .bubble { background:#2563eb; }
body.dark .controls { background:transparent; border-top:1px solid rgba(255,255,255,0.04); }

/* small screen */
@media (max-width:420px){ .container{ width:100%; height:100vh; border-radius:0; } }
